{"version":3,"sources":["Components/Publication/Publication.module.css","Components/Controls/Controls.module.css","Components/Reader.module.css","Components/Counter/Counter.module.css","Components/Publication/Publication.jsx","Components/Counter/Counter.jsx","Components/Controls/Controls.jsx","Components/Reader.jsx","Components/App.js","index.js"],"names":["module","exports","Publication","items","currentItem","className","styles","publication","publicationTitle","title","publicationP","text","Counter","counter","length","cx","classNames","bind","Controls","onIncrement","onDecrement","prevBtnDisabled","nextBtnDisabled","controls","type","disabled","onClick","button","buttonDisabled","getItemFromLocation","location","queryString","parse","search","item","Reader","state","publicationItem","handleIncrement","beforeLast","setState","prevState","nextBtnD","prevBtnD","props","history","push","handleDecrement","this","prevProps","currentItemFromLocation","previousItemFromLocation","replace","reader","Component","App","path","component","to","pathname","ReactDOM","render","basename","document","getElementById"],"mappings":"8FACAA,EAAOC,QAAU,CAAC,YAAc,iCAAiC,iBAAmB,sCAAsC,aAAe,oC,mBCAzID,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,yBAAyB,eAAiB,mC,mBCA3GD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,QAAU,2B,2xgBCqBbC,EAlBK,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,YAAV,OAClB,6BAASC,UAAWC,IAAOC,aACzB,wBAAIF,UAAWC,IAAOE,kBAAmBL,EAAMC,GAAaK,OAC5D,uBAAGJ,UAAWC,IAAOI,cAAeP,EAAMC,GAAaO,Q,iBCY5CC,EAfC,SAAC,GAAD,IAAGR,EAAH,EAAGA,YAAaD,EAAhB,EAAgBA,MAAhB,OACd,uBAAGE,UAAWC,IAAOO,SAArB,UAAkCT,EAAc,EAAhD,YAAqDD,EAAMW,U,kCCAvDC,EAAKC,IAAWC,KAAKX,KAyCZY,EAvCE,SAAC,GAAD,IACfC,EADe,EACfA,YACAC,EAFe,EAEfA,YACAC,EAHe,EAGfA,gBACAC,EAJe,EAIfA,gBAJe,OAMf,6BAASjB,UAAWC,IAAOiB,UACzB,4BACEC,KAAK,SACLC,SAAUJ,EACVK,QAASN,EACTf,UAAWU,EAAG,CACZY,QAAQ,EACRC,gBAAoC,IAApBP,KANpB,kCAWA,4BACEG,KAAK,SACLC,SAAUH,EACVjB,UAAWU,EAAG,CACZY,QAAQ,EACRC,gBAAoC,IAApBN,IAElBI,QAASP,GAPX,0C,yjBCjBJ,IAAMU,EAAsB,SAAAC,GAAQ,OAAIC,IAAYC,MAAMF,EAASG,QAAQC,MAEtDC,E,2MACnBC,MAAQ,CACNC,gBAAiB,EACjBhB,iBAAiB,EACjBC,iBAAiB,G,EA6CnBgB,gBAAkB,WAChB,IAAMC,EAAapC,EAAMW,OAAS,EAClC,EAAK0B,UAAS,SAAAC,GACZ,IAAMC,EAAWD,EAAUJ,kBAAoBE,EAE3CI,GAAW,EAIf,OAHI,EAAKtB,iBAAiD,IAA9BoB,EAAUJ,kBACpCM,GAAW,GAEN,CACLN,gBAAiBI,EAAUJ,gBAAkB,EAC7ChB,gBAAiBsB,EACjBrB,gBAAiBoB,MAGrB,EAAKE,MAAMC,QAAQC,KAAnB,KACK,EAAKF,MAAMd,SADhB,CAEEG,OAAO,QAAD,OAAU,EAAKG,MAAMC,gBAAkB,O,EAIjDU,gBAAkB,WAChB,IAAMR,EAAapC,EAAMW,OAAS,EAClC,EAAK0B,UAAS,SAAAC,GACZ,IAAME,EAAyC,IAA9BF,EAAUJ,gBAEvBK,GAAW,EAIf,OAHI,EAAKpB,iBAAmBmB,EAAUJ,kBAAoBE,IACxDG,GAAW,GAEN,CACLL,gBAAiBI,EAAUJ,gBAAkB,EAC7ChB,gBAAiBsB,EACjBrB,gBAAiBoB,MAGrB,EAAKE,MAAMC,QAAQC,KAAnB,KACK,EAAKF,MAAMd,SADhB,CAEEG,OAAO,QAAD,OAAU,EAAKG,MAAMC,qB,mFA/EM,IAA/BW,KAAKZ,MAAMC,kBACbW,KAAKR,SAAS,CAAEnB,iBAAiB,IACjC2B,KAAKJ,MAAMC,QAAQC,KAAnB,KACKE,KAAKJ,MAAMd,SADhB,CAEEG,OAAO,e,yCAKMgB,EAAWR,GAC5B,IAAMS,EAA0BrB,EAAoBmB,KAAKJ,MAAMd,UACzDqB,EAA2BtB,EAAoBoB,EAAUnB,UAE3DoB,IAA4BC,GAC9BH,KAAKR,SAAS,CAAEH,gBAAiBa,EAA0B,IAEzDC,EAA2BhD,EAAMW,QACnCkC,KAAKR,SAAS,CAAEnB,iBAAiB,IAG/BQ,EAAoBmB,KAAKJ,MAAMd,UAAY3B,EAAMW,SACnDkC,KAAKJ,MAAMC,QAAQO,QAAQ,CACzBnB,OAAO,WAETe,KAAKR,SAAS,CAAEH,gBAAiB,KAGD,IAA9BI,EAAUJ,iBAAwD,IAA/BW,KAAKZ,MAAMC,iBAChDW,KAAKR,SAAS,CAAEnB,iBAAiB,IAED,IAA9BoB,EAAUJ,iBAAwD,IAA/BW,KAAKZ,MAAMC,iBAChDW,KAAKR,SAAS,CAAEnB,iBAAiB,IAGjCoB,EAAUJ,kBAAoBlC,EAAMW,QACpCkC,KAAKZ,MAAMC,gBAAkBlC,EAAMW,QAEnCkC,KAAKR,SAAS,CAAElB,iBAAiB,M,+BA8C3B,IAAD,EACsC0B,KAAKZ,MAA1Cf,EADD,EACCA,gBAAiBC,EADlB,EACkBA,gBACjBQ,EAAakB,KAAKJ,MAAlBd,SACJoB,EAA0B,EAO9B,OANIrB,EAAoBC,KACtBoB,EAA0BrB,EAAoBC,IAE5CD,EAAoBC,GAAY3B,EAAMW,SACxCoC,EAA0B,GAG1B,yBAAK7C,UAAWC,IAAO+C,QACrB,kBAAC,EAAD,CAAajD,aAAc8C,EAA0B,EAAG/C,MAAOA,IAC/D,kBAAC,EAAD,CAASC,aAAc8C,EAA0B,EAAG/C,MAAOA,IAC3D,kBAAC,EAAD,CACEgB,YAAa6B,KAAKV,gBAClBlB,YAAa4B,KAAKD,gBAClB1B,gBAAiBA,EACjBC,gBAAiBA,S,GA7GSgC,aCNfC,E,2MACnBnB,MAAQ,G,wEAGN,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOoB,KAAK,UAAUC,UAAWtB,IADnC,OAEE,kBAAC,IAAD,CACEuB,GAAI,CACFC,SAAU,UACV1B,OAAQ,kB,GAVaqB,aCCjCM,IAASC,OACP,kBAAC,IAAD,CAAYC,SAAS,KACnB,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.70cba5a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__2OpxN\",\"publicationTitle\":\"Publication_publicationTitle__2bG0b\",\"publicationP\":\"Publication_publicationP__28mJB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2wmIo\",\"button\":\"Controls_button__J_dD5\",\"buttonDisabled\":\"Controls_buttonDisabled__1AKpz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__SUT1b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__2grkP\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publication = ({ items, currentItem }) => (\n  <article className={styles.publication}>\n    <h2 className={styles.publicationTitle}>{items[currentItem].title}</h2>\n    <p className={styles.publicationP}>{items[currentItem].text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      text: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  currentItem: PropTypes.number.isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ currentItem, items }) => (\n  <p className={styles.counter}>{`${currentItem + 1}/${items.length}`}</p>\n);\n\nCounter.propTypes = {\n  currentItem: PropTypes.number.isRequired,\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      text: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport classNames from 'classnames/bind';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst cx = classNames.bind(styles);\n\nconst Controls = ({\n  onIncrement,\n  onDecrement,\n  prevBtnDisabled,\n  nextBtnDisabled,\n}) => (\n  <section className={styles.controls}>\n    <button\n      type=\"button\"\n      disabled={prevBtnDisabled}\n      onClick={onDecrement}\n      className={cx({\n        button: true,\n        buttonDisabled: prevBtnDisabled === true,\n      })}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      disabled={nextBtnDisabled}\n      className={cx({\n        button: true,\n        buttonDisabled: nextBtnDisabled === true,\n      })}\n      onClick={onIncrement}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  onIncrement: PropTypes.func.isRequired,\n  onDecrement: PropTypes.func.isRequired,\n  prevBtnDisabled: PropTypes.bool.isRequired,\n  nextBtnDisabled: PropTypes.bool.isRequired,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport queryString from 'query-string';\nimport styles from './Reader.module.css';\nimport items from './publications.json';\nimport Publication from './Publication/Publication';\nimport Counter from './Counter/Counter';\nimport Controls from './Controls/Controls';\n\nconst getItemFromLocation = location => queryString.parse(location.search).item;\n\nexport default class Reader extends Component {\n  state = {\n    publicationItem: 0,\n    prevBtnDisabled: false,\n    nextBtnDisabled: false,\n  };\n\n  componentDidMount() {\n    if (this.state.publicationItem === 0) {\n      this.setState({ prevBtnDisabled: true });\n      this.props.history.push({\n        ...this.props.location,\n        search: `item=1`,\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const currentItemFromLocation = getItemFromLocation(this.props.location);\n    const previousItemFromLocation = getItemFromLocation(prevProps.location);\n\n    if (currentItemFromLocation !== previousItemFromLocation) {\n      this.setState({ publicationItem: currentItemFromLocation - 1 });\n    }\n    if (previousItemFromLocation > items.length) {\n      this.setState({ prevBtnDisabled: true });\n    }\n\n    if (getItemFromLocation(this.props.location) > items.length) {\n      this.props.history.replace({\n        search: `item=1`,\n      });\n      this.setState({ publicationItem: 0 });\n    }\n\n    if (prevState.publicationItem === 1 && this.state.publicationItem === 0) {\n      this.setState({ prevBtnDisabled: true });\n    }\n    if (prevState.publicationItem === 1 && this.state.publicationItem === 0) {\n      this.setState({ prevBtnDisabled: true });\n    }\n    if (\n      prevState.publicationItem === items.length &&\n      this.state.publicationItem < items.length\n    ) {\n      this.setState({ nextBtnDisabled: false });\n    }\n  }\n\n  handleIncrement = () => {\n    const beforeLast = items.length - 2;\n    this.setState(prevState => {\n      const nextBtnD = prevState.publicationItem === beforeLast;\n\n      let prevBtnD = false;\n      if (this.prevBtnDisabled && prevState.publicationItem === 1) {\n        prevBtnD = false;\n      }\n      return {\n        publicationItem: prevState.publicationItem + 1,\n        prevBtnDisabled: prevBtnD,\n        nextBtnDisabled: nextBtnD,\n      };\n    });\n    this.props.history.push({\n      ...this.props.location,\n      search: `item=${this.state.publicationItem + 2}`,\n    });\n  };\n\n  handleDecrement = () => {\n    const beforeLast = items.length - 2;\n    this.setState(prevState => {\n      const prevBtnD = prevState.publicationItem === 1;\n\n      let nextBtnD = false;\n      if (this.nextBtnDisabled && prevState.publicationItem === beforeLast) {\n        nextBtnD = false;\n      }\n      return {\n        publicationItem: prevState.publicationItem - 1,\n        prevBtnDisabled: prevBtnD,\n        nextBtnDisabled: nextBtnD,\n      };\n    });\n    this.props.history.push({\n      ...this.props.location,\n      search: `item=${this.state.publicationItem}`,\n    });\n  };\n\n  render() {\n    const { prevBtnDisabled, nextBtnDisabled } = this.state;\n    const { location } = this.props;\n    let currentItemFromLocation = 1;\n    if (getItemFromLocation(location)) {\n      currentItemFromLocation = getItemFromLocation(location);\n    }\n    if (getItemFromLocation(location) > items.length) {\n      currentItemFromLocation = 1;\n    }\n    return (\n      <div className={styles.reader}>\n        <Publication currentItem={+currentItemFromLocation - 1} items={items} />\n        <Counter currentItem={+currentItemFromLocation - 1} items={items} />\n        <Controls\n          onIncrement={this.handleIncrement}\n          onDecrement={this.handleDecrement}\n          prevBtnDisabled={prevBtnDisabled}\n          nextBtnDisabled={nextBtnDisabled}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport Reader from './Reader';\n\nexport default class App extends Component {\n  state = {};\n\n  render() {\n    return (\n      <Switch>\n        <Route path=\"/reader\" component={Reader} />} />\n        <Redirect\n          to={{\n            pathname: '/reader',\n            search: '?item=1',\n          }}\n        />\n      </Switch>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './Components/App';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}